<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>En Boca de Todos ‚Äì Pedidos</title>
  <style>
    :root { 
      font-family: sans-serif; 
    }
    body {
      margin: 0;
      padding: 0; /* Sin padding para que el overlay cubra todo */
      background: url('/enbocadetodos/images/background.jpg') top center no-repeat;
      background-size: cover;
      color: #333;
      position: relative;
      min-height: 100vh;
      overflow-x: hidden;
    }
   #overlay {
  position: fixed;
  top: 0;
  left: 0;
  width: 100vw;
  height: 100vh;
  background: rgba(0,0,0,0.6);
  backdrop-filter: blur(6px);
  z-index: 0;

  animation: bajarOverlay 60s linear infinite;
}

@keyframes bajarOverlay {
  0% {
    transform: translateY(-100vh);
  }
  100% {
    transform: translateY(100vh);
  }
}

    .wrap {
      max-width: 600px;
      margin: 1rem auto 2rem auto; /* margen arriba y abajo */
      background: rgba(242, 204, 91, 0.9);
      border-radius: 10px;
      box-shadow: 0 2px 6px rgba(0,0,0,0.1);
      padding: 1rem;
      position: relative;
      z-index: 10; /* encima del overlay */
    }
    .header {
      display: flex;
      align-items: center;
      justify-content: center;
      margin-bottom: 1rem;
      gap: 1rem;
    }
    .header img {
      height: 100px;
      width: auto;
      border-radius: 12px;
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
      cursor: pointer;
      transition: transform 0.3s ease;
    }
    .header img:hover {
      transform: scale(1.05);
      box-shadow: 0 6px 12px rgba(0,0,0,0.3);
    }
    h1 {
      margin: 0;
      text-align: center;
      font-size: 1.8rem;
      color: #0c0c02;
      font-weight: 900;
      letter-spacing: 0.10px;
      text-transform: uppercase;
    }

    .categoria-titulo {
      font-size: 1.2rem;
      font-weight: bold;
      color: #0c0c03;
      margin: 1.5rem 0 0.5rem 0;
      text-transform: uppercase;
      letter-spacing: 1px;
      text-align: center;
      border-bottom: 2px solid #0c0c03;
      padding-bottom: 0.2rem;
      display: block;
    }

    .categoria-productos {
      display: flex;
      overflow-x: auto;
      gap: 1rem;
      text-align: center;
      padding-bottom: 1rem;
    }

    .mi-div {
      background:
        linear-gradient(rgba(0,0,0,0.5), rgba(0,0,0,0.5)),
        url('tuimagen.jpg');
      background-position: center;
      background-repeat: no-repeat;
      background-size: cover;
    }

    .producto {
      min-width: 220px;
      border: 1px solid #eee;
      border-radius: 10px;
      padding: 0.75rem;
      background: #bd4646;
      text-align: center;
      box-shadow: 0 2px 6px rgba(0,0,0,0.05);
      flex-shrink: 0;
      display: flex;
      flex-direction: column;
      align-items: center;
    }
    .producto img {
      width: 180px;
      height: 130px;
      object-fit: cover;
      border-radius: 8px;
      margin-bottom: 0.5rem;
      transition: transform 0.3s ease;
      cursor: pointer;
    }
    .producto img:hover {
      transform: scale(1.05);
      box-shadow: 0 6px 12px rgba(0,0,0,0.2);
      z-index: 10;
    }
    .info {
      text-align: center;
      margin-bottom: 0.5rem;
      font-weight: bold;
    }
    .qty {
      width: 60px;
      margin-bottom: 0.5rem;
    }
    .aderezo input {
      width: 90%;
      padding: 0.3rem 0.5rem;
      border-radius: 6px;
      border: 1px solid #ccc;
      font-size: 0.9rem;
    }

    label { 
      display: block; 
      margin: 0.75rem 0; 
    }
    button {
      background: #14ec46; 
      color: #000; 
      border: none; 
      padding: 0.8rem 1.5rem;
      font-size: 1rem; 
      border-radius: 8px; 
      cursor: pointer; 
      font-weight: bold;
      box-shadow: 0 2px 4px rgba(0,0,0,0.2);
      transition: background 0.3s ease;
      width: 100%;
    }
    button:disabled {
      background: #c5ecbd;
      cursor: not-allowed;
    }
    .total {
      font-size: 1.2rem; 
      font-weight: bold; 
      margin-top: 1rem; 
      text-align: right;
    }
    .footer {
      margin-top: 2rem; 
      font-size: 0.9rem; 
      text-align: center; 
      color: #666;
    }
  </style>
</head>
<body>
  <div id="overlay"></div>

  <div class="wrap">
    <div class="header">
      <img src="enbocadetodos/images/imagen body.jpg" alt="Logo" />
      <h1>Hac√© tu pedido</h1>
    </div>

    <form id="formPedido">
      <div id="listaProductos"></div>

      <label>
        <input type="radio" name="tipoEntrega" value="retiro" id="retiro" checked />
        Retiro en el local (sin env√≠o)
      </label>
      <label>
        <input type="radio" name="tipoEntrega" value="envio" id="envio" />
        Con env√≠o (recargo por distancia)
      </label>

      <label>
        Distancia estimada en km (solo si es m√°s de 1 km)
        <input type="number" id="distanciaExtra" min="0" step="0.1" placeholder="Ej: 2" disabled />
      </label>

      <label>
        Tu tel√©fono
        <input type="tel" id="telCliente" required placeholder="2616224435" />
      </label>

      <label>
        Direcci√≥n
        <input type="text" id="dirCliente" placeholder="Barrio San Javier‚Ä¶" disabled />
      </label>

      <p class="total">Total: $<span id="txtTotal">0</span></p>
      <button type="submit" id="btnEnviar" disabled>Enviar por WhatsApp</button>
    </form>

    <div class="footer">
      <p><strong>Rotiser√≠a "En Boca de Todos"</strong></p>
      <p>üìç Barrio San Javier, Manzana Q, Casa 17 ‚Äì Mendoza</p>
      <p>üìû Tels: 261 622‚Äë4435 / 261 634‚Äë5099 / 261 503‚Äë8515</p>
      <p>üåê <a href="https://enbocadetod0s.netlify.app" target="_blank" rel="noopener noreferrer">enbocadetod0s.netlify.app</a></p>
    </div>
  </div>

  <script>
    const numeroWhatsApp = '5492616224435';
    const costoEnvioBase = 500;

    const productos = [
      { id: 1, nombre: 'Chesse Burguer', precio: 4800, foto: 'enbocadetodos/images/chesseburguer.jpg', categoria: 'hamburguesa' },
      { id: 2, nombre: 'Cono de papas', precio: 2400, foto: 'enbocadetodos/images/cono-papas.jpg', categoria: 'papas' },
      { id: 3, nombre: 'Fugazzeta', precio: 7800, foto: 'enbocadetodos/images/fugazzeta.jpg', categoria: 'pizza' },
      { id: 4, nombre: 'Hamburguesa mediana + guarnici√≥n', precio: 7800, foto: 'enbocadetodos/images/Hamburgesamediana-guarnicion.jpg', categoria: 'hamburguesa' },
      { id: 5, nombre: 'Hamburguesa completa', precio: 11000, foto: 'enbocadetodos/images/hamburguesacompleta.jpg', categoria: 'hamburguesa' },
      { id: 6, nombre: 'Pancho con poncho', precio: 2700, foto: 'enbocadetodos/images/panchoconponcho.jpg', categoria: 'panchos' },
      { id: 7, nombre: 'Panchos + lluvia de papas', precio: 2000, foto: '/enbocadetodos/images/panchoslluviapapas.jpg', categoria: 'panchos' },
      { id: 8, nombre: 'Papas chicas', precio: 4000, foto: 'enbocadetodos/images/papas-chicas.jpg', categoria: 'papas' },
      { id: 9, nombre: 'Papas a caballo', precio: 6000, foto: 'enbocadetodos/images/papasacaballo.jpg', categoria: 'papas' },
      { id: 10, nombre: 'Papas grandes', precio: 5000, foto: 'enbocadetodos/images/papasgrandes.jpg', categoria: 'papas' },
      { id: 11, nombre: 'Pizza especial', precio: 7800, foto: 'enbocadetodos/images/pizza-especial.jpg', categoria: 'pizza' }
    ];

    const categorias = [
      { key: 'hamburguesa', nombre: 'Hamburguesas' },
      { key: 'papas', nombre: 'Papas' },
      { key: 'panchos', nombre: 'Panchos' },
      { key: 'pizza', nombre: 'Pizzas' }
    ];

    const lista = document.getElementById('listaProductos');
    const envioRadio = document.getElementById('envio');
    const retiroRadio = document.getElementById('retiro');
    const distanciaExtra = document.getElementById('distanciaExtra');
    const dirCliente = document.getElementById('dirCliente');
    const totalSpan = document.getElementById('txtTotal');
    const btnEnviar = document.getElementById('btnEnviar');

    function renderProductos() {
      lista.innerHTML = '';
      categorias.forEach(cat => {
        const productosCat = productos.filter(p => p.categoria === cat.key);
        if (productosCat.length > 0) {
          const titulo = document.createElement('div');
          titulo.className = 'categoria-titulo';
          titulo.textContent = cat.nombre;
          lista.appendChild(titulo);

          const contenedor = document.createElement('div');
          contenedor.className = 'categoria-productos';

          productosCat.forEach(p => {
            const div = document.createElement('div');
            div.className = 'producto';
            div.innerHTML = `
              <img src="${p.foto}" alt="${p.nombre}">
              <div class="info">${p.nombre}<br>$${p.precio}</div>
              <input type="number" min="0" value="0" data-id="${p.id}" class="qty">
              <div class="aderezo">
                <input type="text" placeholder="Aderezos (opcional)" data-aderezo-id="${p.id}">
              </div>
            `;
            contenedor.appendChild(div);
          });

          lista.appendChild(contenedor);
        }
      });

      document.querySelectorAll('.qty').forEach(inp => {
        inp.addEventListener('input', calcularTotal);
      });
    }

    function toggleEnvioFields() {
      const envioSeleccionado = envioRadio.checked;
      distanciaExtra.disabled = !envioSeleccionado;
      dirCliente.disabled = !envioSeleccionado;
      if (!envioSeleccionado) {
        distanciaExtra.value = '';
        dirCliente.value = '';
      }
    }

    envioRadio.addEventListener('change', () => { toggleEnvioFields(); calcularTotal(); });
    retiroRadio.addEventListener('change', () => { toggleEnvioFields(); calcularTotal(); });

    function calcularTotal() {
      let total = 0;
      document.querySelectorAll('.qty').forEach(inp => {
        const cantidad = parseInt(inp.value) || 0;
        if (cantidad > 0) {
          const prod = productos.find(p => p.id == inp.dataset.id);
          total += cantidad * prod.precio;
        }
      });

      if (envioRadio.checked) {
        let extra = parseFloat(distanciaExtra.value) || 0;
        let envioTotal = costoEnvioBase;
        if (extra > 1) envioTotal += (Math.ceil(extra - 1)) * 500;
        total += envioTotal;
      }

      totalSpan.textContent = total;
      btnEnviar.disabled = total === 0;
      return total;
    }

    document.getElementById('formPedido').addEventListener('submit', e => {
      e.preventDefault();
      const tel = document.getElementById('telCliente').value.trim();
      const dir = dirCliente.value.trim();

      const detalles = [];
      document.querySelectorAll('.qty').forEach(inp => {
        const cantidad = parseInt(inp.value) || 0;
        if (cantidad > 0) {
          const prod = productos.find(p => p.id == inp.dataset.id);
          const aderezoInput = document.querySelector(`[data-aderezo-id="${prod.id}"]`);
          const aderezos = aderezoInput?.value.trim();
          const conAderezo = aderezos ? ` (${aderezos})` : '';
          detalles.push(`${cantidad} x ${prod.nombre}${conAderezo}`);
        }
      });

      if (!tel) { alert('Por favor, ingres√° tu tel√©fono.'); return; }
      if (envioRadio.checked && !dir) { alert('Por favor, ingres√° la direcci√≥n para env√≠o.'); return; }

      let mensaje = `Hola! Quiero pedir: ${detalles.join(', ')}.`;
      if (envioRadio.checked) mensaje += ` Con env√≠o a ${dir}.`;
      else mensaje += ' Retiro en el local.';
      mensaje += ` Total $${calcularTotal()}. Mi tel√©fono: ${tel}.`;

      const url = `https://wa.me/${numeroWhatsApp}?text=${encodeURIComponent(mensaje)}`;
      window.open(url, '_blank');
    });

    renderProductos();
    toggleEnvioFields();

    window.addEventListener('load', () => {
      const overlay = document.getElementById('overlay');
      overlay.style.top = '0'; // Mostrar overlay al cargar la p√°gina

      overlay.addEventListener('click', () => {
        overlay.style.top = '-100%'; // Ocultar overlay al hacer click
      });
    });
  </script>
</body>
</html>
