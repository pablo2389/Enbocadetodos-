<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
   <title>üçî Rotiser√≠a En Boca de Todos ‚Äì Guaymall√©n, Mendoza</title>
  <link rel="icon" type="image/png" href="images/favicon-32x32.png" />

  <style>
    :root{font-family:sans-serif;}
    body{
      margin:0;
      padding:1rem;
      background:#f7f7f7 url('images/background.jpg') top center no-repeat;
      background-size: cover;
      color:#333;
    }
    .wrap{max-width:600px;margin:auto;background:#fff;border-radius:10px;box-shadow:0 2px 6px rgba(0,0,0,.1);padding:1rem;}
    .header{
      display:flex;
      align-items:center;
      justify-content:center;
      margin-bottom:1rem;
      gap:1rem;
    }
    /* Imagen banner arriba */
    .banner-image {
      width: 100%;
      max-height: 220px;
      object-fit: cover;
      border-radius: 12px;
      margin-bottom: 1rem;
      box-shadow: 0 2px 6px rgba(0,0,0,0.2);
      display: block;
      transition: transform 0.3s ease;
      cursor: pointer;
    }
    .banner-image:hover {
      transform: scale(1.05);
      box-shadow: 0 6px 12px rgba(0,0,0,0.3);
    }
    .header img{
      height: 100px;
      width: auto;
      border-radius: 12px;
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
      transition: transform 0.3s ease;
      cursor: pointer;
    }
    .header img:hover {
      transform: scale(1.1);
      box-shadow: 0 4px 8px rgba(0,0,0,0.3);
      z-index: 10;
    }
    h1{
      margin:0;
      text-align:center;
      font-size:1.8rem;
      color:#d62828;
      font-weight:900;
      letter-spacing:0.5px;
      text-transform:uppercase;
    }
    .producto{
      margin:1rem 0;
      border-bottom:1px solid #eee;
      padding-bottom:1rem;
    }
    .producto-inner{
      display:flex;
      align-items:center;
    }
    .producto img{
      width:80px;
      height:80px;
      object-fit:cover;
      border-radius:8px;
      margin-right:1rem;
      transition: transform 0.3s ease;
      cursor: pointer;
    }
    .producto img:hover {
      transform: scale(1.1);
      z-index: 10;
      box-shadow: 0 4px 8px rgba(0,0,0,0.3);
    }
    .info{flex:1;}
    .qty{width:60px;margin-left:0.5rem;}
    label{display:block;margin:0.75rem 0;}
    button{
      background:#ffcc00;
      color:#000;
      border:none;
      padding:0.8rem 1.5rem;
      font-size:1rem;
      border-radius:8px;
      cursor:pointer;
      font-weight:bold;
      box-shadow:0 2px 4px rgba(0,0,0,0.2);
    }
    button:disabled{
      background:#aaa;
    }
    .total{
      font-size:1.2rem;
      font-weight:bold;
      margin-top:1rem;
      text-align:right;
    }
    .footer{
      margin-top:2rem;
      font-size:0.9rem;
      text-align:center;
      color:#666;
    }
    .aderezo{
      margin-top:0.5rem;
    }
    .aderezo input{
      margin-right:0.5rem;
    }
  </style>
</head>
<body>
  <div class="wrap">
    <div class="header">
      <img src="images/imagen body.jpg" alt="Banner" class="banner-image">
    </div>

    <h1>Hac√© tu pedido</h1>
    <form id="formPedido">
      <div id="listaProductos"></div>

      <label>
        <input type="checkbox" id="chkEnvio"> Con env√≠o hasta 1 km (+$<span id="precioEnvio"></span>). M√°s de 1 km: $500 por km adicional
      </label>

      <label>Distancia estimada en km (solo si es m√°s de 1 km)
        <input type="number" id="distanciaExtra" min="0" step="0.1" placeholder="Ej: 2">
      </label>

      <label>Tu tel√©fono
        <input type="tel" id="telCliente" required placeholder="2616224435">
      </label>
      <label>Direcci√≥n
        <input type="text" id="dirCliente" required placeholder="Barrio San Javier‚Ä¶">
      </label>

      <p class="total">Total: $<span id="txtTotal">0</span></p>
      <button type="submit" id="btnEnviar" disabled>Enviar por WhatsApp</button>
    </form>

    <div class="footer">
      <p><strong>Rotiser√≠a "En Boca de Todos"</strong></p>
      <p>üìç Barrio San Javier, Manzana Q, Casa 17 ‚Äì Mendoza</p>
      <p>üìû Tels: 261¬†622‚Äë4435 / 261¬†634‚Äë5099 / 261¬†503‚Äë8515</p>
      <p>üåê <a href="https://enbocadetod0s.netlify.app" target="_blank">enbocadetod0s.netlify.app</a></p>
    </div>
  </div>

  <script>
    const numeroWhatsApp = '5492616224435';
    const costoEnvio = 500;

    const productos = [
      { id: 1,  nombre: 'Chesse Burguer',                         precio: 4800, foto: 'images/chesseburguer.jpg' },
      { id: 2,  nombre: 'Cono de papas',                          precio: 2400, foto: 'images/Cono-papas.jpg' },
      { id: 3,  nombre: 'Fugazzeta',                              precio: 7800, foto: 'images/fugazzeta.jpg' },
      { id: 4,  nombre: 'Hamburguesa mediana + guarnici√≥n',      precio: 7800, foto: 'images/Hamburgesamediana-guarnicion.jpg' },
      { id: 5,  nombre: 'Hamburguesa completa',                  precio: 11000, foto: 'images/Hamburguesacompleta.jpg' },
      { id: 6,  nombre: 'Pancho con poncho',                     precio: 2700, foto: 'images/panchoconponcho.jpg' },
      { id: 7,  nombre: 'Panchos + lluvia de papas',             precio: 2000, foto: 'images/panchoslluviapapas.jpg' },
      { id: 8,  nombre: 'Papas chicas',                          precio: 4000, foto: 'images/papas-chicas.jpg' },
      { id: 9,  nombre: 'Papas a caballo',                       precio: 6000, foto: 'images/papasacaballo.jpg' },
      { id: 10, nombre: 'Papas grandes',                         precio: 5000, foto: 'images/papasgrandes.jpg' },
      { id: 11, nombre: 'Pizza especial',                        precio: 7800, foto: 'images/pizza-especial.jpg' }
    ];

    const lista = document.getElementById('listaProductos');
    const chkEnvio = document.getElementById('chkEnvio');
    const distanciaExtra = document.getElementById('distanciaExtra');
    const precioEnvioSpan = document.getElementById('precioEnvio');
    const totalSpan = document.getElementById('txtTotal');
    const btnEnviar = document.getElementById('btnEnviar');
    precioEnvioSpan.textContent = costoEnvio;

    productos.forEach(p => {
      const div = document.createElement('div');
      div.className = 'producto';
      div.innerHTML = `
        <div class="producto-inner">
          <img src="${p.foto}" alt="${p.nombre}">
          <div class="info">
            <strong>${p.nombre}</strong><br>$${p.precio}
          </div>
          <input type="number" min="0" value="0" data-id="${p.id}" class="qty">
        </div>
        <div class="aderezo">
          <label>Aderezos:
            <input type="text" placeholder="Ej: mayonesa, ketchup" data-aderezo-id="${p.id}">
          </label>
        </div>
      `;
      lista.appendChild(div);
    });

    function calcularTotal() {
      let total = 0;
      document.querySelectorAll('.qty').forEach(inp => {
        const cantidad = parseInt(inp.value) || 0;
        if (cantidad > 0) {
          const prod = productos.find(p => p.id == inp.dataset.id);
          total += cantidad * prod.precio;
        }
      });
      if (chkEnvio.checked) {
        let extra = parseFloat(distanciaExtra.value) || 0;
        let envioTotal = costoEnvio;
        if (extra > 1) envioTotal += (Math.ceil(extra - 1)) * 500;
        total += envioTotal;
      }
      totalSpan.textContent = total;
      btnEnviar.disabled = total === 0;
      return total;
    }

    document.addEventListener('input', e => {
      if (e.target.classList.contains('qty') || e.target === distanciaExtra) calcularTotal();
    });
    chkEnvio.addEventListener('change', calcularTotal);

    document.getElementById('formPedido').addEventListener('submit', e => {
      e.preventDefault();
      const tel = document.getElementById('telCliente').value.trim();
      const dir = document.getElementById('dirCliente').value.trim();

      const detalles = [];
      document.querySelectorAll('.qty').forEach(inp => {
        const cantidad = parseInt(inp.value) || 0;
        if (cantidad > 0) {
          const prodId = inp.dataset.id;
          const prod = productos.find(p => p.id == prodId);
          const aderezoInput = document.querySelector(`[data-aderezo-id="${prodId}"]`);
          const aderezos = aderezoInput?.value.trim();
          const conAderezo = aderezos ? ` (${aderezos})` : '';
          detalles.push(`${cantidad} x ${prod.nombre}${conAderezo}`);
        }
      });

      if (detalles.length === 0) {
        alert('Agreg√° al menos un producto al pedido.');
        return;
      }

      let mensaje = `Hola! Quiero pedir: ${detalles.join(', ')}.`;
      if (chkEnvio.checked) mensaje += ` Con env√≠o a ${dir}.`;
      else mensaje += ' Retiro en el local.';
      mensaje += ` Total $${calcularTotal()}. Mi tel√©fono: ${tel}.`;

      const url = `https://api.whatsapp.com/send?phone=${numeroWhatsApp}&text=${encodeURIComponent(mensaje)}`;
      window.open(url, '_blank');

      setTimeout(() => {
        if (!document.hasFocus()) return;
        alert('Si WhatsApp no se abri√≥ autom√°ticamente, toc√° este enlace:\n\n' + url);
      }, 1500);
    });
  </script>
</body>
</html>
